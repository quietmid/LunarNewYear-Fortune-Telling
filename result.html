<!DOCTYPE html>
<html lang='en'>
		<head>
			<meta charset ="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<title>Zodiac Fortune Result</title>

			<link rel="stylesheet" href="normalize.css">
			<link rel="stylesheet" href="style.css">
			<link rel="preconnect" href="https://fonts.googleapis.com">
			<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
			<link href="https://fonts.googleapis.com/css2?family=Sono:wght@300&display=swap" rel="stylesheet">

		</head>
		<body>
			<h1>Here is Your Zodiac Fortune Result</h1>
			
			<div id="result"></div>
			<div id="flaws"></div>
			<script>
				var queryString = window.location.search;
				var urlParams = new URLSearchParams(queryString);
				var zodiacSign = "";

				function getZodiacSign(){
					var year = urlParams.get('birthYear');

					if (year == 1996 || year == 1984 || year == 2008)
						zodiacSign = "Rat";
					else if (year == 1997 || year == 1985 || year == 2009)
						zodiacSign = "Ox";
					else if (year == 1998 || year == 1986 || year == 2010)
						zodiacSign = "Tiger";
					else if (year == 1999 || year == 1987 || year == 1975)
						zodiacSign = "Rabbit";
					else if (year == 1988 || year == 2000 || year == 1976)
						zodiacSign = "Dragon";
					else if (year == 1977 || year == 1989 || year == 2001)
						zodiacSign = "Snake";
					else if (year == 1978 || year == 1990 || year == 2002)
						zodiacSign = "Horse";
					else if (year == 1979 || year == 1991 || year == 2003)
						zodiacSign = "Goat";
					else if (year == 1980 || year == 1992 || year == 2004)
						zodiacSign = "Monkey";
					else if (year == 1981 || year == 1993 || year == 2005)
						zodiacSign = "Rooster";
					else if (year == 1982 || year == 1994 || year == 2006)
						zodiacSign = "Dog";
					else if (year == 1983 || year == 1995 || year == 2007)
						zodiacSign = "Pig";
					document.getElementById("result").innerHTML = "<p>You are a: " + zodiacSign + "</p>";

					yourZodiacFlaws(zodiacSign);
				}
				window.onload = getZodiacSign;

				function yourZodiacFlaws(){
					var flawsMap = {
                	"Rat": "You tend to be opportunistic and may struggle with trustworthiness.",
                	"Ox": "You can be stubborn and inflexible, which may lead to difficulties in relationships.",
                	"Tiger": "Your impulsiveness may sometimes lead to reckless behavior and conflicts.",
                	"Rabbit": "You may be overly cautious and prone to worry, hindering your ability to take risks.",
                	"Dragon": "Your pride and desire for control may lead to issues with authority and arrogance.",
                	"Snake": "You may be secretive and distrustful, which can strain your relationships.",
                	"Horse": "Your restlessness and need for freedom may result in difficulty committing to responsibilities.",
                	"Goat": "Your indecisiveness and tendency to avoid conflict may hinder your assertiveness.",
                	"Monkey": "You may struggle with being mischievous and manipulative, causing strain in relationships.",
                	"Rooster": "Your perfectionism and critical nature may lead to conflicts and tension with others.",
                	"Dog": "You can be overly loyal and possessive, which may lead to dependency issues in relationships.",
                	"Pig": "Your indulgent nature may lead to laziness and overspending, causing financial troubles."
            	};

            var flaws = flawsMap[zodiacSign];

            if (flaws) {
                document.getElementById("flaws").innerHTML = "<p>Your Zodiac Flaws: " + flaws + "</p>";
            } else {
                document.getElementById("flaws").innerHTML = "<p>No flaws found for your Zodiac sign.</p>";
            }
        }
			</script>
				<button onclick="redirectToResultPage()">Click to see more!</button>
				<div id="jokeResult" style="display: none;">
				</div>
			<script>

				var jokePageURL = "joke.html"
				function redirectToResultPage() {
					window.location.href = jokePageURL;
				}
			</script>
		</body>
</html>